{
    "uri": "apply-for-compensation",
    "sections": {
        "p-applicant-are-you-a-british-citizen": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/applicant-are-you-a-british-citizen",
            "type": "object",
            "required": ["q-applicant-are-you-a-british-citizen"],
            "additionalProperties": false,
            "properties": {
                "q-applicant-are-you-a-british-citizen": {
                    "type": "boolean",
                    "title": "Are you a British citizen?",
                    "errorMessages": {
                        "required": "You need to tell us if you are a British citizen"
                    }
                }
            }
        },
        "p-applicant-over-18": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/applicant-over-18",
            "type": "object",
            "required": ["q-are-you-18-or-over"],
            "additionalProperties": false,
            "properties": {
                "q-are-you-18-or-over": {
                    "type": "boolean",
                    "title": "Are you 18 or over?",
                    "errorMessages": {
                        "required": "Tell us if you are old enough"
                    }
                }
            }
        },
        "p--you-need-a-different-service": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/you-need-a-different-service",
            "type": "object",
            "title": "You are being redirected to our other application site",
            "additionalProperties": false,
            "properties": {
                "q-crimedetails": {
                    "type": "string",
                    "classification": "markup",
                    "enum": [
                        "<p><strong>You can continue your application using our existing service.</strong></p>"
                    ],
                    "default": "/enum/0"
                }
            }
        },
        "p--who-is-applying": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/who-are-you-applying-for",
            "type": "object",
            "required": ["q-who-are-you-applying-for"],
            "additionalProperties": false,
            "properties": {
                "q-who-are-you-applying-for": {
                    "title": "Who are you applying for?",
                    "type": "string",
                    "uniqueItems": true,
                    "items": {
                        "oneOf": [
                            {
                                "title": "Myself",
                                "enum": ["myself"]
                            },
                            {
                                "title": "Someone else",
                                "enum": ["someone-else"]
                            }
                        ]
                    },
                    "errorMessages": {
                        "required": "Tell us who you are applying for"
                    }
                }
            }
        },
        "p-applicant-were-you-a-victim": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p-applicant-were-you-a-victim",
            "type": "object",
            "required": ["q-applicant-were-you-a-victim"],
            "additionalProperties": false,
            "properties": {
                "q-applicant-were-you-a-victim": {
                    "type": "boolean",
                    "title": "Were you a victim of sexual assault or abuse?",
                    "errorMessages": {
                        "required": "Select the appropriate option"
                    }
                }
            }
        },
        "p-applicant-impact-on-you": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/declarations",
            "title": "Before you continue",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "declarationtext": {
                    "type": "string",
                    "classification": "markup",
                    "enum": [
                        "<p>On the next page we will ask you to select an option based on how the crime affected you.</p><p>We appreciate that this may be difficult for you.</p><p><strong>If you need help or support</strong></p><p>You can contact us for help with your application on 0300 003 3601. Select option 8.</p><p>Our phone lines are open Monday to Friday 8.30am to 5pm except Wednesday when they open at 10am.</p><p><a href=\"https://www.victimsinformationservice.org.uk/\" target=\"_blank\">Victims' Information Service</a></p>"
                    ],
                    "default": "/enum/0"
                }
            }
        },
        "p-applicant-your-choices": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--applicant-your-choices",
            "type": "object",
            "title": "Select the option that applies to you",
            "required": ["q-your-choices"],
            "additionalProperties": false,
            "properties": {
                "choicestext": {
                    "type": "string",
                    "classification": "markup",
                    "enum": [
                        "<p><strong>We decide what enquiries to make depending on how the crime affected you.</strong></p><p><stong>Sexual assault or abuse</strong></p><p>Any compensation we pay acknowledges the emotional distress the crime caused you.</p><p>We normally make a decision based on your application and the information we get from the police.</p><p>We will usually make a decision within 4 months.</p><p><strong>Sexual assault or abuse and other injuries or losses</strong></p><p>We can pay compensation for:<ul class=\"govuk-list govuk-list--bullet\"><li>lost earnings because you were unable to work</li><li>physical injuries</li><li>pregnancy, sexually transmitted disease or loss of foetus</li><li>disabling mental injuries that are additional to the distress and mental trauma already suffered</li></ul></p><details title='What is a disabling mental injury?' id='dmi-description'><p>A disabling mental injury has a substantial adverse effect on your day-to-day performance at work or school, your relationships, or your sexual relationships.</p><p>Disabling mental injuries must be confirmed by a psychiatrist or clinical psychologist.</p></details><p>We normally ask to see your medical records. We may also ask a psychiatrist or clinical psychologist to confirm if you have a disabling mental injury.</p><p>We will usually make a decision within 12 months. This is because we may need to examine your medical records, get medical reports and assess any losses.</p><details title='If you need help or support' id='dmi-help'><p>You can contact us for help with your application on 0300 003 3601. Select option 8.</p><p>Our phone lines are open Monday to Friday 8.30am to 5pm except Wednesday when they open at 10am.</p><p><a href=\"https://www.victimsinformationservice.org.uk/\" target=\"_blank\">contact the Victims' Information Service</a></p></details>"
                    ],
                    "default": "/enum/0"
                },
                "q-your-choices": {
                    "title": "Select the option that applies to you",
                    "type": "string",
                    "uniqueItems": true,
                    "items": {
                        "oneOf": [
                            {
                                "title": "Sexual assault or abuse",
                                "enum": ["sa"]
                            },
                            {
                                "title": "Sexual assault or abuse and other injuries or losses",
                                "enum": ["saoil"]
                            }
                        ]
                    },
                    "errorMessages": {
                        "required": "Select your choice"
                    }
                }
            }
        },
        "p--was-the-crime-reported-to-the-police": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/was-the-crime-reported-to-the-police",
            "type": "object",
            "required": ["q-was-the-crime-reported-to-the-police"],
            "additionalProperties": false,
            "properties": {
                "q-was-the-crime-reported-to-the-police": {
                    "type": "boolean",
                    "title": "Was the crime reported to the police?",
                    "errorMessages": {
                        "required": "Select if you reported the crime to the police or not"
                    }
                },
                "reporteddetails": {
                    "type": "string",
                    "classification": "markup",
                    "enum": [
                        "<details title='I do not know if the crime was reported to the police' id='reported-help'><p>You can contact us for help with your application on 0300 003 3601. Select option 8.</p><p>Our phone lines are open Monday to Friday 8.30am to 5pm except Wednesday when they open at 10am.</p><p><a href=\"https://www.police.uk/contact/101/\" target=\"_blank\">contact the Police</a></p></details>"
                    ],
                    "default": "/enum/0"
                }
            }
        },
        "p--when-was-the-crime-reported": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/when-was-the-crime-reported-to-the-police",
            "type": "object",
            "required": ["q-when-was-the-crime-reported-to-the-police"],
            "additionalProperties": false,
            "properties": {
                "q-when-was-the-crime-reported-to-the-police": {
                    "type": "string",
                    "format": "date-time",
                    "title": "When was the crime reported to the police?",
                    "errorMessages": {
                        "required": "Enter the date you reported the crime to the police",
                        "format": "Enter a valid date, not that format"
                    }
                }
            }
        },
        "p--when-did-the-crime-happen": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--when-did-the-crime-happen",
            "type": "object",
            "required": ["q-when-did-the-crime-happen"],
            "additionalProperties": false,
            "properties": {
                "q-when-did-the-crime-happen": {
                    "type": "string",
                    "format": "date-time",
                    "title": "When did the crime happen?",
                    "errorMessages": {
                        "required": "Enter the date you reported the crime to the police",
                        "format": "Enter a valid date, not that thing you just tried....."
                    }
                },
                "crimehappening-details": {
                    "type": "string",
                    "classification": "markup",
                    "enum": [
                        "<details title=\"I do not know when the crime happened\" id=\"spent-convictions-description\"><p>You can contact us for help with your application on 0300 003 3601. Select option 8.</p><p>Our phone lines are open Monday to Friday 8.30am to 5pm except Wednesday when they open at 10am.</p><a href=\"https://www.police.uk/contact/101/\" target=\"_blank\">contact the Police</a></details>"
                    ],
                    "default": "/enum/0"
                }
            }
        },
        "p--crime-reference-number": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--crime-reference-number",
            "type": "object",
            "required": ["q-crime-reference-number"],
            "additionalProperties": false,
            "properties": {
                "q-crime-reference-number": {
                    "title": "What's the crime reference number?",
                    "type": "string",
                    "errorMessages": {
                        "required": "Enter the crime reference number"
                    }
                }
            }
        },
        "p--single-or-multiple-incidents": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--single-or-multiple-incidents",
            "type": "object",
            "required": ["q-single-or-multiple-incidents"],
            "additionalProperties": false,
            "properties": {
                "q-single-or-multiple-incidents": {
                    "title": "Did the crime happen once or over a period of time?",
                    "type": "string",
                    "uniqueItems": true,
                    "items": {
                        "oneOf": [
                            {
                                "title": "Once",
                                "enum": ["once"]
                            },
                            {
                                "title": "Over a period of time",
                                "enum": ["over-a-period-of-time"]
                            }
                        ]
                    },
                    "errorMessages": {
                        "required": "please select an option"
                    }
                }
            }
        },
        "p--incident-location-country": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--incident-location-country",
            "type": "object",
            "required": ["q-incident-location-country"],
            "additionalProperties": false,
            "properties": {
                "q-single-or-multiple-incidents": {
                    "title": "Where did the crime happen?",
                    "type": "string",
                    "uniqueItems": true,
                    "items": {
                        "oneOf": [
                            {
                                "title": "England",
                                "enum": ["england"]
                            },
                            {
                                "title": "Scotland",
                                "enum": ["scotland"]
                            },
                            {
                                "title": "Wales",
                                "enum": ["wales"]
                            },
                            {
                                "title": "Somewhere else",
                                "enum": ["somewhere-else"]
                            }
                        ]
                    },
                    "errorMessages": {
                        "required": "please select an option"
                    }
                }
            }
        },
        "p--multiple-start-date": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--multiple-start-date",
            "type": "object",
            "required": ["q-multiple-start-date"],
            "additionalProperties": false,
            "properties": {
                "q-multiple-start-date": {
                    "type": "string",
                    "format": "date-time",
                    "title": "When did it start?",
                    "errorMessages": {
                        "required": "Enter the date it started",
                        "format": "Enter a valid date"
                    }
                }
            }
        },
        "p--multiple-end-date": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--multiple-end-date",
            "type": "object",
            "required": ["q-multiple-end-date"],
            "additionalProperties": false,
            "properties": {
                "q-multiple-end-date": {
                    "type": "string",
                    "format": "date-time",
                    "title": "When did it end?",
                    "errorMessages": {
                        "required": "Enter the date it ended",
                        "format": "Enter a valid date"
                    }
                }
            }
        },
        "p--end-of-demo": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--end-of-demo",
            "type": "object",
            "title": "End of demo",
            "additionalProperties": false,
            "properties": {
                "q-crimedetails": {
                    "type": "string",
                    "classification": "markup",
                    "enum": ["<p>This is the last page of the demonstration.</p>"],
                    "default": "/enum/0"
                }
            }
        },
        "p--not-eligible": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--not-eligible",
            "type": "object",
            "title": "You can not get compensation",
            "additionalProperties": false,
            "properties": {
                "q-crimedetails": {
                    "type": "string",
                    "classification": "markup",
                    "enum": [
                        "<p><strong>If the crime has not been reported to the police we can not pay compensation.</strong></p><p>You may continue your application, but any future application for the same injuries will be refused.</p>"
                    ],
                    "default": "/enum/0"
                }
            }
        },
        "p--summary": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "id": "http://localhost:3000/schema/definitions/p--summary",
            "type": "object",
            "title": "Check your answers before sending your application",
            "additionalProperties": false,
            "properties": {
                "q-crimedetails": {
                    "type": "string",
                    "classification": "markup",
                    "enum": ["<cya></cya>"],
                    "default": "/enum/0"
                }
            }
        }
    },
    "routes": {
        "initial": "p-applicant-are-you-a-british-citizen",
        "states": {
            "p-applicant-are-you-a-british-citizen": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p-applicant-over-18",
                            "cond": [
                                "==",
                                "$.p-applicant-are-you-a-british-citizen.q-applicant-are-you-a-british-citizen.value",
                                "true"
                            ]
                        },
                        {
                            "target": "p--you-need-a-different-service",
                            "cond": [
                                "==",
                                "$.p-applicant-are-you-a-british-citizen.q-applicant-are-you-a-british-citizen.value",
                                "false"
                            ]
                        }
                    ]
                }
            },
            "p-applicant-over-18": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--who-is-applying",
                            "cond": [
                                "==",
                                "$.p-applicant-over-18.q-are-you-18-or-over.value",
                                "true"
                            ]
                        },
                        {
                            "target": "p--you-need-a-different-service",
                            "cond": [
                                "==",
                                "$.p-applicant-over-18.q-are-you-18-or-over.value",
                                "false"
                            ]
                        }
                    ]
                }
            },
            "p--you-need-a-different-service": {},
            "p--who-is-applying": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p-applicant-were-you-a-victim",
                            "cond": [
                                "==",
                                "$.p--who-is-applying.q-who-are-you-applying-for.value",
                                "myself"
                            ]
                        },
                        {
                            "target": "p--you-need-a-different-service",
                            "cond": [
                                "==",
                                "$.p--who-is-applying.q-who-are-you-applying-for.value",
                                "someone-else"
                            ]
                        }
                    ]
                }
            },
            "p-applicant-were-you-a-victim": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p-applicant-impact-on-you",
                            "cond": [
                                "==",
                                "$.p-applicant-were-you-a-victim.q-applicant-were-you-a-victim.value",
                                "true"
                            ]
                        },
                        {
                            "target": "p--you-need-a-different-service",
                            "cond": [
                                "==",
                                "$.p-applicant-were-you-a-victim.q-applicant-were-you-a-victim.value",
                                "false"
                            ]
                        }
                    ]
                }
            },
            "p-applicant-impact-on-you": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p-applicant-your-choices"
                        }
                    ]
                }
            },
            "p-applicant-your-choices": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--was-the-crime-reported-to-the-police",
                            "cond": ["==", "$.p-applicant-your-choices.q-your-choices.value", "sa"]
                        },
                        {
                            "target": "p--you-need-a-different-service",
                            "cond": [
                                "==",
                                "$.p-applicant-your-choices.q-your-choices.value",
                                "saoil"
                            ]
                        }
                    ]
                }
            },
            "p--was-the-crime-reported-to-the-police": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--when-was-the-crime-reported",
                            "cond": [
                                "==",
                                "$.p--was-the-crime-reported-to-the-police.q-was-the-crime-reported-to-the-police.value",
                                "true"
                            ]
                        },
                        {
                            "target": "p--not-eligible",
                            "cond": [
                                "==",
                                "$.p--was-the-crime-reported-to-the-police.q-was-the-crime-reported-to-the-police.value",
                                "false"
                            ]
                        }
                    ]
                }
            },
            "p--when-was-the-crime-reported": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--crime-reference-number"
                        }
                    ]
                }
            },
            "p--when-did-the-crime-happen": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--incident-location-country"
                        }
                    ]
                }
            },
            "p--crime-reference-number": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--single-or-multiple-incidents"
                        }
                    ]
                }
            },
            "p--single-or-multiple-incidents": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--when-did-the-crime-happen",
                            "cond": [
                                "==",
                                "$.p--single-or-multiple-incidents.q-single-or-multiple-incidents.value",
                                "once"
                            ]
                        },
                        {
                            "target": "p--multiple-start-date",
                            "cond": [
                                "==",
                                "$.p--single-or-multiple-incidents.q-single-or-multiple-incidents.value",
                                "over-a-period-of-time"
                            ]
                        }
                    ]
                }
            },
            "p--incident-location-country": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--end-of-demo"
                        }
                    ]
                }
            },
            "p--multiple-start-date": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--multiple-end-date"
                        }
                    ]
                }
            },
            "p--multiple-end-date": {
                "on": {
                    "ANSWER": [
                        {
                            "target": "p--incident-location-country"
                        }
                    ]
                }
            },
            "p--end-of-demo": {},
            "p--not-eligible": {},
            "p--summary": {}
        }
    }
}
